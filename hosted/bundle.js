(()=>{const e=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("domoMessage").classList.remove("hidden")},t=async(t,r)=>{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await n.json();s.redirect&&(window.location=s.redirect),s.error&&e(s.error)};window.onload=()=>{const r=document.getElementById("signupForm"),n=document.getElementById("loginForm"),s=document.getElementById("championshipForm");r&&r.addEventListener("submit",n=>{n.preventDefault();const s=r.querySelector("#user").value,o=r.querySelector("#pass").value,a=r.querySelector("#pass2").value;return s&&o&&a?o!==a?(e("Passwords do not match!"),!1):(t(r.getAttribute("action"),{username:s,pass:o,pass2:a}),!1):(e("All fields are required!"),!1)}),n&&n.addEventListener("submit",r=>{r.preventDefault();const s=n.querySelector("#user").value,o=n.querySelector("#pass").value;return s&&o?(t(n.getAttribute("action"),{username:s,pass:o}),!1):(e("Username or password is empty!"),!1)}),s&&s.addEventListener("submit",e=>{e.preventDefault();const r=s.querySelector("#championshipName").value;return!!r&&(t(s.getAttribute("action"),{name:r}),!1)})}})();